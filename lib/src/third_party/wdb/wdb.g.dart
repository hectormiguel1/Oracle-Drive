// AUTO GENERATED FILE, DO NOT EDIT.
//
// Generated by `package:ffigen`.
// ignore_for_file: type=lint, unused_import
import 'package:oracle_drive/src/third_party/common.g.dart' as common;
import 'dart:ffi' as ffi;

@ffi.Native<ffi.Void Function(common.Result)>()
external void free_result(common.Result result);

@ffi.Native<ffi.Void Function(common.LogCallback)>()
external void register_async_callback(common.LogCallback cb);

@ffi.Native<ffi.Void Function(common.LogCallback)>()
external void register_sync_callback(common.LogCallback cb);

@ffi.Native<ffi.Void Function(common.LogCallback, ffi.UnsignedInt)>(
  symbol: 'register_async_callback_with_level',
)
external void _register_async_callback_with_level(
  common.LogCallback cb,
  int level,
);

void register_async_callback_with_level(
  common.LogCallback cb,
  LogLevel level,
) => _register_async_callback_with_level(cb, level.value);

@ffi.Native<ffi.Void Function(common.LogCallback, ffi.UnsignedInt)>(
  symbol: 'register_sync_callback_with_level',
)
external void _register_sync_callback_with_level(
  common.LogCallback cb,
  int level,
);

void register_sync_callback_with_level(common.LogCallback cb, LogLevel level) =>
    _register_sync_callback_with_level(cb, level.value);

@ffi.Native<ffi.Void Function(ffi.Pointer<ffi.Void>)>()
external void free_log_memory(ffi.Pointer<ffi.Void> ptr);

@ffi.Native<ffi.Void Function(ffi.Pointer<ffi.Pointer<ffi.Void>>, ffi.Int)>()
external void free_log_memory_batch(
  ffi.Pointer<ffi.Pointer<ffi.Void>> ptr,
  int count,
);

@ffi.Native<common.Result Function(ffi.Pointer<ffi.Char>, ffi.UnsignedChar)>()
external common.Result WDB_ParseFile(
  ffi.Pointer<ffi.Char> filePath,
  int gameCode,
);

@ffi.Native<ffi.Void Function(ffi.Pointer<WDBFileC>)>()
external void WDB_FreeWDBFile(ffi.Pointer<WDBFileC> wdbFile);

@ffi.Native<ffi.Void Function(ffi.Pointer<ffi.Char>)>()
external void WDB_FreeString(ffi.Pointer<ffi.Char> str);

@ffi.Native<
  common.Result Function(
    ffi.Pointer<ffi.Char>,
    ffi.UnsignedChar,
    ffi.Pointer<WDBFileC>,
  )
>()
external common.Result WDB_WriteFile(
  ffi.Pointer<ffi.Char> filePath,
  int gameCode,
  ffi.Pointer<WDBFileC> wdbFile,
);

enum LogLevel {
  Finest(0),
  Fine(1),
  Info(2),
  Warn(3),
  Fatal(4);

  final int value;
  const LogLevel(this.value);

  static LogLevel fromValue(int value) => switch (value) {
    0 => Finest,
    1 => Fine,
    2 => Info,
    3 => Warn,
    4 => Fatal,
    _ => throw ArgumentError('Unknown value for LogLevel: $value'),
  };
}

enum WDBValueType {
  WDB_VALUE_TYPE_INT(0),
  WDB_VALUE_TYPE_UINT(1),
  WDB_VALUE_TYPE_FLOAT(2),
  WDB_VALUE_TYPE_STRING(3),
  WDB_VALUE_TYPE_BOOL(4),
  WDB_VALUE_TYPE_INT_ARRAY(5),
  WDB_VALUE_TYPE_UINT_ARRAY(6),
  WDB_VALUE_TYPE_STRING_ARRAY(7),
  WDB_VALUE_TYPE_UNKNOWN(8);

  final int value;
  const WDBValueType(this.value);

  static WDBValueType fromValue(int value) => switch (value) {
    0 => WDB_VALUE_TYPE_INT,
    1 => WDB_VALUE_TYPE_UINT,
    2 => WDB_VALUE_TYPE_FLOAT,
    3 => WDB_VALUE_TYPE_STRING,
    4 => WDB_VALUE_TYPE_BOOL,
    5 => WDB_VALUE_TYPE_INT_ARRAY,
    6 => WDB_VALUE_TYPE_UINT_ARRAY,
    7 => WDB_VALUE_TYPE_STRING_ARRAY,
    8 => WDB_VALUE_TYPE_UNKNOWN,
    _ => throw ArgumentError('Unknown value for WDBValueType: $value'),
  };
}

final class UnnamedStruct extends ffi.Struct {
  external ffi.Pointer<ffi.Int> items;

  @ffi.Int()
  external int count;
}

final class UnnamedStruct$1 extends ffi.Struct {
  external ffi.Pointer<ffi.UnsignedInt> items;

  @ffi.Int()
  external int count;
}

final class UnnamedStruct$2 extends ffi.Struct {
  external ffi.Pointer<ffi.Pointer<ffi.Char>> items;

  @ffi.Int()
  external int count;
}

final class UnnamedUnion extends ffi.Union {
  @ffi.Int()
  external int int_val;

  @ffi.UnsignedInt()
  external int uint_val;

  @ffi.Float()
  external double float_val;

  external ffi.Pointer<ffi.Char> string_val;

  @ffi.Int()
  external int bool_val;

  external UnnamedStruct int_array_val;

  external UnnamedStruct$1 uint_array_val;

  external UnnamedStruct$2 string_array_val;
}

final class WDBValue extends ffi.Struct {
  @ffi.UnsignedInt()
  external int typeAsInt;

  WDBValueType get type => WDBValueType.fromValue(typeAsInt);

  external UnnamedUnion data;
}

final class WDBEntry extends ffi.Struct {
  external ffi.Pointer<ffi.Char> key;

  external WDBValue value;
}

final class WDBSectionC extends ffi.Struct {
  external ffi.Pointer<WDBEntry> entries;

  @ffi.Int()
  external int entryCount;
}

final class WDBRecordC extends ffi.Struct {
  external ffi.Pointer<WDBEntry> entries;

  @ffi.Int()
  external int entryCount;
}

final class WDBFileC extends ffi.Struct {
  external ffi.Pointer<ffi.Char> wdbName;

  external WDBSectionC header;

  external ffi.Pointer<WDBRecordC> records;

  @ffi.Int()
  external int recordCount;
}

enum GameCode {
  ff13(0),
  ff132(1);

  final int value;
  const GameCode(this.value);

  static GameCode fromValue(int value) => switch (value) {
    0 => ff13,
    1 => ff132,
    _ => throw ArgumentError('Unknown value for GameCode: $value'),
  };
}
